---
layout:     post
title:      《阿里云服务器搭建》------ 实现Linux和Jenkins的链接
subtitle:   《阿里云服务器搭建》------ 实现Linux和Jenkins的链接
date:       2019-02-16
author:     傅枫
header-img: img/post-bg-mma-5.jpeg
catalog: true
tags:
    - devops
---

> 正所谓前人栽树，后人乘凉。
> 
> 感谢原创

本系列教程的搭建环境为阿里云服务器，其他服务器可作为参考。
本文主要讲述实现Linux服务器和Jenkins的链接
在浏览器中打开我们的jenkins页面。（http://ip:80/jenkins）
然后登陆管理员用户。
配置节点信息
1.点击【系统管理】----> 【节点管理】---->【New Node】

2.输入节点名称，勾选固定节点，点击ok即可

3.然后输入节点描述，linux中jenkins目录（root表示linux的登陆用户），然后输入主机（公网ip），在点击【Add】，选择【Jenkins】即可。

4.接下来，我们需要输入Linux中root的用户名和密码，点击【添加】即可

5.最后一步:在这里选择我们刚才创建的用户信息，再点击【Save】即可完成节点配置。

然后我们可以看到，我们添加的主机已经生效了。


4.启动刚才创建的节点，尝试链接Linux服务器

1.单机我们创建的节点

2.点击Launch agenta按钮

3.稍等片刻，即可成功链接。


备注：如果提示，密码错误，则返回修改root的密码即可。 如果是jdk路径找不到，报的如下错误：可以参考下文解决办法。

解决办法：首先该问题的意思是：linux的jdk路径和jenkins需要的jdk路径（usr/local/java/bin/java）不一致导致的，我们需要更改jenkins的java路径。
步骤：
1）.返回到配置节点页面，点击【Advenced】	

2）.使用命令which java 获取服务器中java的安装目录。

3.然后再在Java路径这里，将上面的地址粘贴进去，最后点击【Save】保存即可。重新连接即可。


5.创建一个job，验证Jenkins任务可以远程运行在Linux服务上。

1.回到Jenkins首页。点击creat new jobs。

2.输入该任务的名称：TestTask，然后点击【构建一个自由风格的软件项目】，在选择最下面的【ok】按钮即可。

3.解这勾选【Restrict where this project can be run】(指定该项目的运行节点)，接着在下方输入我们刚才创建的Node1节点名。

4.接着点击【Build】(构建)，选择【Add build step】(添加构建步骤)，选择【执行shell】(用shell命令构建。)

5.接着我们输入需要执行的shell命令（假设为：ifconfig），然后点击【save】保存。

6.点击【立即构建】，等待刚才的的任务重新构建。

7.构建完成后，点击下图位置（构建的节点），

8.接着点击【ConsoLe Output】,查看构建成功后的输出信息。

9.我们可以看到上面的shell命令已经执行，并且将执行结果显示在控制台上。


#创建节点的时候要小心 	
 	Host Key Verification Strategy 的值要 设成 Non verifying Verification Strategy

--------------------- 
作者：tomatocc 
原文：https://blog.csdn.net/tomatocc/article/details/83958365 
版权声明：本文为博主原创文章，转载请附上博文链接！
